server:
  port: 8080
spring:
  application:
    name: "accounts"
  profiles:
    active: "prod" #di default accounts microservice parte col profilo "prod"
  datasource:
    url: jdbc:h2:mem:testdb
    driverClassName: org.h2.Driver
    username: sa
    password: ''
  h2:
    console:
      enabled: true
  jpa:
    database-platform: org.hibernate.dialect.H2Dialect
    hibernate:
      ddl-auto: update
    show-sql: true
  config:
    import: "optional:configserver:http://localhost:8071/"   #indica che le configurazione di accounts microservice sono recuperabili dal config server  all'url specificato(in questo caso "configserver" è una parola standard da non confondere col nome che abbiamo dato al progetto Spring Cloud Server), "optional:" indica che se non riesce a trovare il config server non lancia un eccezione ma continua comunque con le configurazioni locali, si usa se il mancato recupero delle proprietà non inficia completamente il funzinamento del sistema.

management: #abilita la gestione delle APIs di Actuator
  endpoints:
    web:
      exposure:
        include: "*"
        #qui si dovrebbe l'endpoint di Actuaor che si vuole esporre, in questo caso "*" indica che tutti gli endpoint sono esposti
  endpoint:
    shutdown:
      access: unrestricted #abilita l'endpoint shutdown di Actuator ad essere accessibile da tutti
  info:
    env:
      enabled: true #abilita l'endpoint info di Actuator ad esporre le info relative all'ambiente di esecuzione (vedi proprietà info in basso)

eureka:
  instance:
    preferIpAddress: true
  client:
    fetchRegistry: true #abilita accounts a recuperare il registro dielle istanze in esecuzione
    registerWithEureka: true #abilita accounts a registrarsi al server eureka
    serviceUrl:
      defaultZone: http://localhost:8070/eureka/ #dove gira il server eureka

info: #queste informazioni saranno visualizzate nalla dashboard di Eureka e sono esposte da un endpoint di Actuator
  app:
    name: "accounts"
    description: "Eazy Bank Accounts Application"
    version: "1.0.0"
